<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Shell å¸¸ç”¨å‘½ä»¤</title>
      <link href="/2024/04/27/shell-command-record/"/>
      <url>/2024/04/27/shell-command-record/</url>
      
        <content type="html"><![CDATA[<h1 id="æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å"><a href="#æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å" class="headerlink" title="æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å"></a>æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å</h1><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">for</span> file <span class="keyword">in</span> `<span class="built_in">ls</span> ./*_all.py`</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">        rename   <span class="string">&#x27;_EEB&#x27;</span>  <span class="string">&#x27;_WEB&#x27;</span>  <span class="variable">$&#123;file&#125;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></div><h1 id="æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼ˆæ›¿æ¢ï¼‰"><a href="#æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼ˆæ›¿æ¢ï¼‰" class="headerlink" title="æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼ˆæ›¿æ¢ï¼‰"></a>æ‰¹é‡ä¿®æ”¹æ–‡ä»¶å†…å®¹ï¼ˆæ›¿æ¢ï¼‰</h1><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> `<span class="built_in">ls</span> ./*_all.py`</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">sed -i <span class="string">&#x27;s/AmunEEB/AmunWEB/g&#x27;</span>  <span class="variable">$&#123;file&#125;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></div><hr><p>ä»¥ä¸‹æ˜¯è‰ç¨¿çº¸</p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> python -W ignore Nan_EEB/Nan_EEB_backwards_level1_MM02.py &gt; Nan_EEB/log_info/level1_MM02.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="built_in">nohup</span> python -W ignore Nan_EEB/Nan_EEB_backwards_level1_MM05.py &gt; Nan_EEB/log_info/level1_MM05.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="built_in">nohup</span> python -W ignore Nan_EEB/Nan_EEB_backwards_level1_MM07.py &gt; Nan_EEB/log_info/level1_MM07.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="built_in">nohup</span> python -W ignore Nan_EEB/Nan_EEB_backwards_level1_MM10.py &gt; Nan_EEB/log_info/level1_MM10.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> python -W ignore Nan_WEB/Nan_WEB_backwards_level1_MM02.py &gt; Nan_WEB/log_info/level1_MM02.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="built_in">nohup</span> python -W ignore Nan_WEB/Nan_WEB_backwards_level1_MM05.py &gt; Nan_WEB/log_info/level1_MM05.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="built_in">nohup</span> python -W ignore Nan_WEB/Nan_WEB_backwards_level1_MM07.py &gt; Nan_WEB/log_info/level1_MM07.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="built_in">nohup</span> python -W ignore Nan_WEB/Nan_WEB_backwards_level1_MM10.py &gt; Nan_WEB/log_info/level1_MM10.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure></div><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> python -W ignore Aum_EEB/Aum_EEB_backwards_level3_all.py &gt; Aum_EEB/log_info/level3.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="built_in">nohup</span> python -W ignore Aum_WEB/Aum_WEB_backwards_level3_all.py &gt; Aum_WEB/log_info/level3.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="built_in">nohup</span> python -W ignore Nan_EEB/Nan_EEB_backwards_level3_all.py &gt; Nan_EEB/log_info/level3.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br><span class="line"><span class="built_in">nohup</span> python -W ignore Nan_WEB/Nan_WEB_backwards_level3_all.py &gt; Nan_WEB/log_info/level3.<span class="built_in">log</span> 2&gt;&amp;1 &amp;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> Shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‹è½½copernicus marineçš„æ•°æ®ä¸­é‡åˆ°çš„é—®é¢˜</title>
      <link href="/2024/04/22/download-copernius-data/"/>
      <url>/2024/04/22/download-copernius-data/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨ä¸‹è½½å“¥ç™½å°¼æµ·æ´‹ä¸­å¿ƒçš„æ•°æ®ï¼Œä½†æ˜¯è¯¥æ•°æ®è¿˜ä¸æ”¯æŒsubsetçš„è®¾ç½®ï¼Œä»–ä»¬åˆåˆåˆå‡çº§äº†ä¸‹è½½å·¥å…·â€¦â€¦ï¼ˆå°å£°é€¼é€¼ è¿˜ä¸å¦‚ftpæˆ–è€…ä¹‹å‰é‚£ä¸ªMOTUï¼‰</p><p>æ—¢ç„¶ä¸èƒ½æ”¯æŒsubsetï¼Œæˆ‘åªèƒ½å…¨ä¸‹ä¸‹æ¥ç„¶åç”¨cdoè£å‰ªäº†ï¼›</p><p>ä½†æ˜¯ è¿™ä¸ªæ•°æ®å¾ˆè¦å‘½çš„æ˜¯ ä¸€ä¸‹è½½ä¸€æ•´å¹´çš„æ•°æ®ï¼Œå°±æŠ¥é”™ï¼š<code>[Errno 24] Too many open files</code>ã€‚ä½œä¸ºæ™®é€šç”¨æˆ·ï¼Œæ²¡æœ‰åŠæ³•åƒæ•™ç¨‹ä¸­è¯´çš„æ”¹å˜ç³»ç»Ÿçš„é™åˆ¶</p><blockquote><p>åœ¨Linuxç³»ç»Ÿä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>ulimit</code>å‘½ä»¤æ¥æŸ¥çœ‹å’Œè®¾ç½®æ–‡ä»¶æè¿°ç¬¦çš„é™åˆ¶ã€‚  </p></blockquote><p>æ—¢å¦‚æ­¤åªèƒ½å†™ä¸ªå¾ªç¯é€æœˆä¸‹è½½äº†ï½python APIè„šæœ¬å¦‚ä¸‹ï¼ˆè®°å¾—åœ¨copernicusmarineçš„ç¯å¢ƒä¸‹ï¼‰</p><div class="highlight-wrap" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Import modules</span></span><br><span class="line"><span class="keyword">import</span> copernicusmarine</span><br><span class="line"><span class="keyword">from</span> pprint <span class="keyword">import</span> pprint</span><br><span class="line"></span><br><span class="line"><span class="comment"># Define parameters to run the extraction</span></span><br><span class="line">dataset_id_daily = <span class="string">&quot;cmems_mod_glo_phy-all_my_0.25deg_P1D-m&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define output storage parameters</span></span><br><span class="line">output_directory = <span class="string">&quot;/~/download_data/&quot;</span></span><br><span class="line"><span class="comment"># Call the get function to save data</span></span><br><span class="line"><span class="keyword">for</span> year <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1993</span>,<span class="number">2022</span>):</span><br><span class="line">    <span class="keyword">for</span> month <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">13</span>):</span><br><span class="line">        get_result_daily = copernicusmarine.get(</span><br><span class="line">        dataset_id=dataset_id_daily,</span><br><span class="line">        <span class="built_in">filter</span>=<span class="string">&quot;*-&quot;</span>+<span class="built_in">str</span>(year)+<span class="built_in">str</span>(month).zfill(<span class="number">2</span>)+<span class="string">&quot;*.nc&quot;</span>,</span><br><span class="line">        output_directory=output_directory,</span><br><span class="line">        no_directories=<span class="literal">True</span>)</span><br><span class="line">        pprint(<span class="string">f&quot;List of saved files: <span class="subst">&#123;get_result__daily&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure></div><p>å¯¹äºæ¯ä¸‹è½½ä¸€ä¸ªæœˆéƒ½è¦è¾“å…¥<code>y</code>ç¡®è®¤çš„é—®é¢˜</p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸€æ¬¡</span></span><br><span class="line"><span class="built_in">echo</span> <span class="built_in">yes</span>|[å‘½ä»¤] <span class="comment"># è¾“å…¥ yes</span></span><br><span class="line"><span class="built_in">echo</span> y|[å‘½ä»¤] <span class="comment"># è¾“å…¥ y</span></span><br><span class="line"><span class="comment"># å¤šæ¬¡</span></span><br><span class="line"><span class="built_in">yes</span> <span class="built_in">yes</span>|[å‘½ä»¤] <span class="comment"># è¾“å…¥ yes</span></span><br><span class="line"><span class="built_in">yes</span> y|[å‘½ä»¤] <span class="comment"># è¾“å…¥ y</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¾‹</span></span><br><span class="line"><span class="built_in">yes</span> y|python scripts_of_download_data.py </span><br></pre></td></tr></table></figure></div><p>å¦é™„ cdoåå¤„ç†çš„è„šæœ¬ï¼ˆ<code>cdo_process.sh</code>ï¼‰ï¼š</p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">indir=<span class="string">&quot;download_data&quot;</span></span><br><span class="line"></span><br><span class="line">year=<span class="string">&quot;1999&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Define input and output region</span></span><br><span class="line">region=<span class="string">&quot;-180,180,60,90&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;begin&quot;</span></span><br><span class="line"><span class="keyword">for</span> ((i=<span class="number">1</span>;i&lt;=<span class="number">12</span>;i++)); <span class="keyword">do</span></span><br><span class="line"><span class="comment"># for ((i=4;i&lt;=12;i++)); do</span></span><br><span class="line">month=$(<span class="built_in">printf</span> <span class="string">&quot;%02d&quot;</span> <span class="variable">$i</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">## Sel uv</span></span><br><span class="line">out_uvdir=<span class="string">&quot;uv_sel_01&quot;</span></span><br><span class="line"><span class="keyword">for</span> infile  <span class="keyword">in</span> <span class="variable">$&#123;indir&#125;</span>/*-<span class="variable">$&#123;year&#125;</span><span class="variable">$&#123;month&#125;</span>*.nc; <span class="keyword">do</span></span><br><span class="line">    outfile=<span class="string">&quot;<span class="variable">$&#123;out_uvdir&#125;</span>/uv_oras5_<span class="subst">$(basename $&#123;infile&#125;)</span>&quot;</span></span><br><span class="line">    cdo selname,uo_oras,vo_oras <span class="variable">$&#123;infile&#125;</span> <span class="variable">$&#123;outfile&#125;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Selvariables Finished!!!!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## Sel Arctic</span></span><br><span class="line">out_regdir=<span class="string">&quot;region_sel_02&quot;</span></span><br><span class="line"><span class="keyword">for</span> infile  <span class="keyword">in</span> <span class="variable">$&#123;out_uvdir&#125;</span>/*-<span class="variable">$&#123;year&#125;</span><span class="variable">$&#123;month&#125;</span>*.nc; <span class="keyword">do</span></span><br><span class="line">    outfile=<span class="string">&quot;<span class="variable">$&#123;out_regdir&#125;</span>/Arc_<span class="subst">$(basename $&#123;infile&#125;)</span>&quot;</span></span><br><span class="line">    cdo sellonlatbox,<span class="variable">$&#123;region&#125;</span> <span class="variable">$&#123;infile&#125;</span> <span class="variable">$&#123;outfile&#125;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Selbox Finished!!!&quot;</span></span><br><span class="line"><span class="built_in">rm</span> <span class="variable">$&#123;out_uvdir&#125;</span>/*-<span class="variable">$&#123;year&#125;</span><span class="variable">$&#123;month&#125;</span>*.nc</span><br><span class="line"></span><br><span class="line"><span class="comment">## sel depth</span></span><br><span class="line">dep_range=<span class="string">&quot;1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35&quot;</span></span><br><span class="line">out_depdir=<span class="string">&quot;dep_sel_03&quot;</span></span><br><span class="line"><span class="keyword">for</span> infile <span class="keyword">in</span> <span class="variable">$&#123;out_regdir&#125;</span>/*-<span class="variable">$&#123;year&#125;</span><span class="variable">$&#123;month&#125;</span>*.nc; <span class="keyword">do</span></span><br><span class="line">    outfile=<span class="string">&quot;<span class="variable">$&#123;out_depdir&#125;</span>/dep_<span class="subst">$(basename $&#123;infile&#125;)</span>&quot;</span></span><br><span class="line">    cdo sellevidx,<span class="variable">$&#123;dep_range&#125;</span> <span class="variable">$&#123;infile&#125;</span> <span class="variable">$&#123;outfile&#125;</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">rm</span> <span class="variable">$&#123;out_regdir&#125;</span>/*-<span class="variable">$&#123;year&#125;</span><span class="variable">$&#123;month&#125;</span>*.nc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;sel depth Finished!!!!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## merge time</span></span><br><span class="line">out_final_dir=<span class="string">&#x27;final_data_04&#x27;</span></span><br><span class="line">cdo mergetime <span class="variable">$&#123;out_depdir&#125;</span>/*-<span class="variable">$&#123;year&#125;</span><span class="variable">$&#123;month&#125;</span>*.nc <span class="variable">$&#123;out_final_dir&#125;</span>/Arc_uv_oras5_<span class="variable">$&#123;year&#125;</span><span class="variable">$&#123;month&#125;</span>.nc</span><br><span class="line"><span class="built_in">rm</span> <span class="variable">$&#123;out_depdir&#125;</span>/*-<span class="variable">$&#123;year&#125;</span><span class="variable">$&#123;month&#125;</span>*.nc</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;year&#125;</span><span class="variable">$&#123;month&#125;</span> Mergetime Finished&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#rm $&#123;indir&#125;/*-$&#123;year&#125;$&#123;month&#125;*.nc</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure></div><hr><p>è¿˜å°è¯•äº†ç”¨wgetä¸‹è½½çš„æ–¹æ³•ï¼Œä½†æ˜¯å®ƒä¸æ”¯æŒğŸ˜®â€ğŸ’¨</p><div class="highlight-wrap" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> wget</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">str1 = <span class="string">&quot;https://data.marine.copernicus.eu/product/GLOBAL_MULTIYEAR_PHY_ENS_001_031/files?subdataset=cmems_mod_glo_&gt;</span></span><br><span class="line"><span class="string">str2 = &quot;</span>cmems_mod_glo_phy-all_my_0<span class="number">.25</span>deg_P1D-m-<span class="string">&quot;</span></span><br><span class="line"><span class="string">str3 = &quot;</span>.nc<span class="string">&quot;</span></span><br><span class="line"><span class="string">for year in range(2020,2022):</span></span><br><span class="line"><span class="string">    for month in range(1, 13):</span></span><br><span class="line"><span class="string">        for day in range(1, 32):</span></span><br><span class="line"><span class="string">            url = str1 + &quot;</span>&#123;&#125;<span class="string">&quot;.format(year) +&quot;</span>/<span class="string">&quot;+ &quot;</span>&#123;:02d&#125;<span class="string">&quot;.format(month)+&quot;</span>/<span class="string">&quot;+ str2+&quot;</span>&#123;&#125;<span class="string">&quot;.format(year)+&quot;</span>&#123;:02d&#125;<span class="string">&quot;.forma&gt;</span></span><br><span class="line"><span class="string">            path1 = &#x27;~/down_wget_test/&#x27;</span></span><br><span class="line"><span class="string">            file_path = os.path.join(path1)</span></span><br><span class="line"><span class="string">            if not os.path.exists(file_path):</span></span><br><span class="line"><span class="string">                os.makedirs(file_path)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            try:</span></span><br><span class="line"><span class="string">                wget.download(url, out=file_path)</span></span><br><span class="line"><span class="string">            except:</span></span><br><span class="line"><span class="string">                print(&quot;</span>File:<span class="string">&quot; + str2 + &quot;</span>&#123;<span class="number">0</span>&#125;&#123;<span class="number">1</span>:02d&#125;&#123;<span class="number">2</span>:02d&#125;<span class="string">&quot;.format(year, month, day) + str3 + &quot;</span> does <span class="keyword">not</span> exist<span class="string">&quot;)</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure></div><hr><p>æŸ¥çœ‹ncæ–‡ä»¶çš„æ•°é‡ï¼ˆæ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯ä¸‹è½½å…¨äº†ï¼‰</p><p><code>find -name &quot;*-1993*.nc&quot; | wc -l</code></p><hr><p>CLIçš„å‘½ä»¤</p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copernicusmarine get --dataset-id cmems_mod_glo_phy-all_my_0.25deg_P1D-m -nd --filter <span class="string">&quot;*1997/10/*&quot;</span></span><br></pre></td></tr></table></figure></div><hr><p>Conferencesï¼š</p><p><a href="https://blog.csdn.net/Roy_70/article/details/78423880">too many open files(æ‰“å¼€çš„æ–‡ä»¶è¿‡å¤š)</a></p><p><a href="https://cloud.baidu.com/article/3269701">[Errno 24] Too many open files</a></p><p><a href="https://blog.csdn.net/linyisonger/article/details/106469176">Linux_shellè‡ªåŠ¨è¾“å…¥yæˆ–yes</a></p><p><a href="https://blog.csdn.net/Mluoo/article/details/128557284">python wget æ‰¹é‡ä¸‹è½½</a></p><p><a href="https://blog.csdn.net/weixin_44324367/article/details/111312156">shell è„šæœ¬çš„å¾ªç¯</a></p><p><a href="https://zhuanlan.zhihu.com/p/377523024">linux æŸ¥çœ‹æ–‡ä»¶æ•°é‡</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ocean Parcels å·¥å…·åŒ…æ— æ³•ç©¿è¶Š180Â°W</title>
      <link href="/2024/04/11/About-Ocean-Parcels-cannot-cross-the-north-pole/"/>
      <url>/2024/04/11/About-Ocean-Parcels-cannot-cross-the-north-pole/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘éœ€è¦ä¿®æ”¹ä¹‹å‰çš„ç²’å­è¿½è¸ªä»£ç ï¼Œå‘ç°ç²’å­æ€ä¹ˆä¹Ÿç©¿ä¸è¿‡180Â°Wã€‚ï¼ˆä¹‹å‰å®éªŒçš„ç²’å­è½¨è¿¹ä¸æ¶‰åŠè¥¿åŒ—æï¼ˆæ³¢å¼—ç‰¹æµæ¶¡ï¼‰é‚£è¾¹çš„äº‹æƒ…ï¼‰</p><p>ä½†æ˜¯æƒ³æ³•åˆå˜äº† å“ˆå“ˆå“ˆå“ˆ è¿™å°±æ˜¯æˆ‘ï¼ï¼ è€å˜ï¼</p><p>æŸ¥äº†åŠå¤© åŸæ¥å®˜æ–¹æ•™ç¨‹å·²ç»ç»™å‡ºäº†ç­”æ¡ˆâ€¦â€¦é“¾æ¥å¦‚ä¸‹ï¼š</p><p><a href="https://docs.oceanparcels.org/en/latest/examples/tutorial_periodic_boundaries.html">Periodic boundaries â€” Parcels v3.0.2-13-gdaa4b06 documentation (oceanparcels.org)</a></p><p>åªè¦åŠ å…¥å‘¨æœŸæ€§è¾¹ç•Œå³å¯</p><div class="highlight-wrap" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment"># set periodic BC</span></span><br><span class="line">fieldset.add_constant(<span class="string">&quot;halo_west&quot;</span>, fieldset.U.grid.lon[<span class="number">0</span>])</span><br><span class="line">fieldset.add_constant(<span class="string">&quot;halo_east&quot;</span>, fieldset.U.grid.lon[-<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">fieldset.add_periodic_halo(zonal=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">periodicBC</span>(<span class="params">particle, fieldset, time</span>):</span><br><span class="line">    <span class="keyword">if</span> particle.lon &lt; fieldset.halo_west:</span><br><span class="line">        particle_dlon += fieldset.halo_east - fieldset.halo_west</span><br><span class="line">    <span class="keyword">elif</span> particle.lon &gt; fieldset.halo_east:</span><br><span class="line">        particle_dlon -= fieldset.halo_east - fieldset.halo_west</span><br></pre></td></tr></table></figure></div><p>å°†ä¸Šè¿°ä»£ç åŠ åœ¨<code>pset.execute</code>ä¹‹å‰å°±è¡Œï¼Œå¹¶ä¸”è¦åœ¨kernelsé‡Œé¢åŠ å…¥<code>periodicBC</code></p><p>ps: æ•™ç¨‹ä¸Šè¯´éœ€è¦æ»¡è¶³ï¼š<code>fieldset.U.lon[:, 0] &gt;= fieldset.U.lon[:, -1]</code></p><p>ä½†æ˜¯æˆ‘çš„æƒ…å†µæ˜¯åè¿‡æ¥çš„ï¼Œæ‰€ä»¥å°±æ”¹äº†å®˜æ–¹çš„ä»£ç ã€‚</p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/image-20240411220928822.png" alt="image-20240411220928822" style="zoom:67%;"><p>è®°å½•ä¸€ä¸‹~</p><p>pps:</p><p>ç”»å›¾çš„æ—¶å€™è¦è®°å¾—æŠŠç»åº¦å†è¿›è¡Œè½¬åŒ–ï¼Œå®ƒæ²¡æœ‰å­˜æˆæ”¹æ­£åçš„ï¼›</p><div class="highlight-wrap" data-rel="Matlab"><figure class="iseeu highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">  lon_tra(lon_tra&lt;<span class="number">-180</span>)=lon_tra(lon_tra&lt;<span class="number">-180</span>)+<span class="number">359.75</span>;</span><br><span class="line">  lon_tra(lon_tra&gt;<span class="number">180</span>)= lon_tra(lon_tra&gt;<span class="number">180</span>)<span class="number">-359.75</span>;</span><br><span class="line"><span class="comment">% Q:ä¸ºä»€ä¹ˆä¸æ˜¯360ï¼Ÿ</span></span><br><span class="line"><span class="comment">% A:å› ä¸ºæˆ‘åŸå§‹æ•°æ®æ˜¯-180ï¼š179.25</span></span><br></pre></td></tr></table></figure></div>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨æœ¬åœ°æ‰“å¼€æœåŠ¡å™¨çš„jupyter_notebook</title>
      <link href="/2024/03/28/open-server-jupyter-notebook-on-local/"/>
      <url>/2024/03/28/open-server-jupyter-notebook-on-local/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://zhuanlan.zhihu.com/p/427234430">2021.10.29-mobaXtermè¿œç¨‹è¿æ¥jupyter notebook - çŸ¥ä¹ (zhihu.com)</a></p><p>å› ä¸ºè¿‘æœŸæœåŠ¡å™¨ä»è´¦å·å¯†ç ç™»å½•ï¼Œæ”¹ä¸ºäº†sshå¯†é’¥ç™»é™†ï¼Œä¹‹å‰è¿œç¨‹æ‰“å¼€jupyter notebookçš„æµç¨‹ä¸ç®¡ç”¨liao</p><p>ç°åœ¨æ‰¾åˆ°çš„æœ€ä½³æ–¹æ¡ˆæ˜¯ å»ºç«‹ä¸€ä¸ªlocal SSH Tunnel</p><p>å…ˆæŠŠè¿™ä¸ªTunnelè¿æ¥ä¸Šï¼Œå†å»æœåŠ¡å™¨ä¸Šé¢æ‰“å¼€jupyter å°±å¯ä»¥åœ¨æœ¬åœ°æµè§ˆå™¨çœ‹åˆ°é¡µé¢å•¦~~~</p><p>æ˜¨å¤©æ£é¼“äº†åŠå¤©githubçš„å­¦ç”Ÿä¼˜æƒ ï¼Œå› ä¸ºmacç«¯çš„é‚£ä¸ªtermiusä¼šå‘˜å¥½è´µâ€¦â€¦</p><p>termiusä¸Šä¸€æ ·çš„æ“ä½œã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> server </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°å½•ä¸€é¢—è”ææ ¸çš„æˆé•¿</title>
      <link href="/2024/03/22/recoding-lichee-life/"/>
      <url>/2024/03/22/recoding-lichee-life/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/861d8a075083c20d979fc7d620d7ffb.jpg" alt="861d8a075083c20d979fc7d620d7ffb"></p><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/5737dfb38c88db2a06bc9019e9b71eb.jpg" alt="5737dfb38c88db2a06bc9019e9b71eb"></p><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/5f8dd15034cf03047f0315316409bcc.jpg" alt="5f8dd15034cf03047f0315316409bcc"></p><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/9113278c0999a5a7c8e33720e5477b3.jpg" alt="9113278c0999a5a7c8e33720e5477b3"></p><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/b86d64b1993e1b8f77e9bdc36d8dd52.jpg" alt="b86d64b1993e1b8f77e9bdc36d8dd52"></p><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/b0fdb5d160a0a964a03df7ec41b5af5.jpg" alt="b0fdb5d160a0a964a03df7ec41b5af5"></p><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/bf24ab497f62775c292c14cee977798.jpg" alt="bf24ab497f62775c292c14cee977798"></p>]]></content>
      
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€æ£µå¥‡æ€ªçš„æ ‘</title>
      <link href="/2024/03/22/A-strange-tree/"/>
      <url>/2024/03/22/A-strange-tree/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20240322184252.jpg" alt="å¾®ä¿¡å›¾ç‰‡_20240322184252"></p><p>è¿™æ ‘å¶é•¿å¾—çœŸæç¬‘å•Š</p><p>å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</p>]]></content>
      
      
      
        <tags>
            
            <tag> Life </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>generate ssh key to login server</title>
      <link href="/2024/03/22/generate-ssh-key-to-login-server/"/>
      <url>/2024/03/22/generate-ssh-key-to-login-server/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€æœ¬åœ°PCç«¯æ“ä½œæµç¨‹ï¼š"><a href="#ä¸€ã€æœ¬åœ°PCç«¯æ“ä½œæµç¨‹ï¼š" class="headerlink" title="ä¸€ã€æœ¬åœ°PCç«¯æ“ä½œæµç¨‹ï¼š"></a>ä¸€ã€æœ¬åœ°PCç«¯æ“ä½œæµç¨‹ï¼š</h1><p><strong>æ¨èä½¿ç”¨MobaXtermç™»é™†ï¼›ä¸‹è½½åœ°å€ï¼š</strong><a href="https://mobaxterm.mobatek.net/download.html">MobaXterm Xserver with SSH, telnet, RDP, VNC and X11 - Download (mobatek.net)</a></p><ol><li>ç”Ÿæˆè¯ä¹¦å£ä»¤</li></ol><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/image-20240322134618408.png" alt="image-20240322134618408"></p><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/image-20240322134643908.png" alt="image-20240322134643908"></p><p>è®°å¾—ç”¨é¼ æ ‡åœ¨ç©ºç™½å¤„æ»‘åŠ¨ï¼Œå¥½åƒå®ƒçš„éšæœºæ•°æ˜¯ç”±é¼ æ ‡è½¨è¿¹åŠ å¯†çš„ã€‚</p><ol start="2"><li>å¤åˆ¶æ·»åŠ public keyçš„å†…å®¹ï¼ˆç¬¬ä¸€ä¸ªçº¢æ¡†ï¼‰åˆ°å„è‡ªhomeç›®å½•ä¸‹çš„&#x2F;.ssh&#x2F;authorized_keysæ–‡ä»¶ï¼ˆæ­¤ç›®å½•å’Œæ–‡ä»¶å¤¹éœ€è¦è‡ªå·±åˆ›å»ºï¼‰é‡Œï¼Œæ³¨æ„æ¯ä¸ªkeyæ˜¯ä¸€æ•´è¡Œï¼Œkeyçš„å†…å®¹ä¸è¦æœ‰æ¢è¡Œï¼›ä¸åŒçš„keyè¦åœ¨ä¸åŒè¡Œå†…ã€‚</li></ol><p>ï¼ˆå»ºè®®å…ˆå­˜å‚¨åœ¨txté‡Œ æ–¹ä¾¿ç²˜è´´ï¼‰</p><p><strong>å†å°†è¿™ä¸ªtxtæ–‡ä»¶å¤åˆ¶ä¸€ä¸ªå‰¯æœ¬ï¼Œ å°†æ•´ä¸ªæ–‡ä»¶æ”¹åä¸ºauthorized_keys ï¼ˆä¹‹åç›´æ¥å°†è¿™ä¸ªæ–‡ä»¶æ‹–è¿›å»å°±å¥½ï¼‰</strong></p><p>Key commentå¤‡æ³¨ä¸€ä¸‹ä¿¡æ¯ä¾¿äºè‡ªå·±åˆ†è¾¨ç”¨é€”æˆ–æ¥æº</p><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/image-20240322134823065.png" alt="image-20240322134823065"></p><ol start="3"><li>Save private keyåˆ°æœ¬åœ°ä¸€ä¸ªæ–‡ä»¶ï¼ˆç§é’¥ï¼‰</li></ol><p>æ­¤æ­¥éª¤ç”Ÿæˆä¸€ä¸ªåç¼€åä¸º.ppkçš„æ–‡ä»¶ï¼Œè¯·å¦¥å–„ä¿å­˜ï¼Œå¹¶çŸ¥æ™“å­˜å‚¨çš„ä½ç½®ã€‚</p><ol start="4"><li>Use private keyé€‰æ‹©è¯¥æ–‡ä»¶</li></ol><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/image-20240322135412652.png" alt="image-20240322135412652"></p><p>#äºŒ ã€ åœ¨æœåŠ¡å™¨ç«¯çš„æ“ä½œ</p><ol><li><p>å…ˆç”¨åŸæ¥çš„è´¦å·å¯†ç ç™»é™†åˆ°è‡ªå·±çš„æ–‡ä»¶å¤¹ï¼›æ³¨æ„ç«¯å£æ›´æ”¹ä¸ºï¼š*****</p></li><li><p>ç”Ÿæˆå’Œç²˜è´´å£ä»¤</p></li></ol><p>æ³¨æ„æ¯ä¸ªäººè¦ç”¨åˆ°å„è‡ªçš„ç›®å½•ä¸‹ï¼Œä¸è¦æ”¾rootç›®å½•ï¼Œå›¾ç‰‡æ˜¯èŒƒä¾‹</p><p>åœ¨è‡ªå·±çš„ç›®å½•ä¸‹ï¼Œèµ‹äºˆæ–‡ä»¶æƒé™<br> <div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -m 700 .ssh/</span><br><span class="line"><span class="built_in">cd</span> .ssh/</span><br></pre></td></tr></table></figure></div></p><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/image-20240322135026411.png" alt="image-20240322135026411"></p><p><strong>å°†authorized_keysæ–‡ä»¶ æ‹–è¿›è¿™ä¸ª .ssh&#x2F;æ–‡ä»¶å¤¹é‡Œé¢</strong></p><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/image-20240322135141386.png" alt="image-20240322135141386"></p><p>å†ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶çš„æƒé™ </p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 600 authorized_keys</span><br></pre></td></tr></table></figure></div><ol start="3"><li>ä¿®æ”¹è‡ªå·±åŸæ¥çš„å¯†ç ï¼Œè¦å¤æ‚ä¸”éœ€è¦æœ‰å¤§å°å†™å­—æ¯ã€æ•°å­—åŠç‰¹æ®Šç¬¦å·ã€‚ï¼ˆå‘½ä»¤ï¼špasswdï¼‰</li><li>è‡ªè¿™æ¬¡ä¿®æ”¹å¯†ç ä¹‹åï¼Œè¯·å¤§å®¶ä¸è¦å†ç”¨è´¦å·å¯†ç ç™»é™†ã€‚è¦ç”¨è¯ä¹¦ç™»é™†ï¼Œåˆ‡è®°åˆ‡è®°ã€‚ï¼ˆåœ¨sshé¡µé¢é‡Œåˆ é™¤å¯†ç ï¼‰</li></ol><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/image-20240322135311356.png" alt="image-20240322135311356"></p>]]></content>
      
      
      
        <tags>
            
            <tag> server </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é…ç½®ç¯å¢ƒåŠNEMOæºä»£ç ä¸‹è½½</title>
      <link href="/2024/03/21/Download%20NEMO%20code%20and%20environment%20configuration/"/>
      <url>/2024/03/21/Download%20NEMO%20code%20and%20environment%20configuration/</url>
      
        <content type="html"><![CDATA[<h1 id="0-äº†è§£è¶…ç®—åŠç¼–è¯‘ç¯å¢ƒ"><a href="#0-äº†è§£è¶…ç®—åŠç¼–è¯‘ç¯å¢ƒ" class="headerlink" title="0. äº†è§£è¶…ç®—åŠç¼–è¯‘ç¯å¢ƒ"></a>0. äº†è§£è¶…ç®—åŠç¼–è¯‘ç¯å¢ƒ</h1><ul><li><p>ç¡¬ä»¶ä¿¡æ¯</p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lscpu</span><br></pre></td></tr></table></figure></div></li><li><p>ç³»ç»Ÿä¿¡æ¯</p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/os-release</span><br></pre></td></tr></table></figure></div></li><li><p>æŸ¥çœ‹è‡ªå¸¦çš„è½¯ä»¶</p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">module avail</span><br></pre></td></tr></table></figure></div></li><li><p>æäº¤ä½œä¸šçš„ç³»ç»Ÿâ€”-LSFä½œä¸šè°ƒåº¦ç³»ç»Ÿ</p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">bsub -q ocean_530 -o %J.out mpirun -n 8 ./nemo <span class="comment"># æäº¤å‘½ä»¤</span></span><br><span class="line">bjobs -l JobID <span class="comment"># æŸ¥çœ‹ä½œä¸šè¿è¡ŒçŠ¶å†µ</span></span><br></pre></td></tr></table></figure></div><p>  <a href="https://scc.ustc.edu.cn/zlsc/user_doc/html/lsf/lsf.html">åŸºæœ¬æ“ä½œå‚è€ƒ</a></p></li><li><p>å¸ˆå§ä¹‹å‰è£…å¥½çš„<br>condaã€cdo-1.9.9ã€nclï¼ˆåœ¨condaçš„ncl_stableç¯å¢ƒé‡Œï¼‰ã€mpich3.0.4 ã€NETCDF4.1.3ã€Cmakeã€ECCODES</p></li></ul><h1 id="ä¸€ã€å®‰è£…XIOSçš„ä¾èµ–é¡¹"><a href="#ä¸€ã€å®‰è£…XIOSçš„ä¾èµ–é¡¹" class="headerlink" title="ä¸€ã€å®‰è£…XIOSçš„ä¾èµ–é¡¹"></a>ä¸€ã€å®‰è£…XIOSçš„ä¾èµ–é¡¹</h1><h2 id="åˆå§‹çš„-bashrc"><a href="#åˆå§‹çš„-bashrc" class="headerlink" title="åˆå§‹çš„.bashrc"></a>åˆå§‹çš„<code>.bashrc</code></h2><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># .bashrc</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Source global definitions</span></span><br><span class="line"><span class="keyword">if</span> [ -f /etc/bashrc ]; <span class="keyword">then</span></span><br><span class="line">        . /etc/bashrc</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#module load</span></span><br><span class="line"></span><br><span class="line">module load python/3.7.3</span><br><span class="line">module load mkl/2019.1.144</span><br><span class="line">module load gcc/4.9.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># complier</span></span><br><span class="line"><span class="built_in">export</span> CC=<span class="string">&quot;gcc&quot;</span></span><br><span class="line"><span class="built_in">export</span> CXX=<span class="string">&quot;g++&quot;</span></span><br><span class="line"><span class="built_in">export</span> FC=<span class="string">&quot;gfortran&quot;</span></span><br><span class="line"><span class="built_in">export</span> COMPILER=<span class="string">&quot;<span class="variable">$FC</span>&quot;</span></span><br><span class="line"><span class="built_in">export</span> FCFLAGS=<span class="string">&quot;-m64&quot;</span></span><br><span class="line"><span class="built_in">export</span> F77=<span class="string">&quot;gfortran&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line if you don&#x27;t like systemctl&#x27;s auto-paging feature:</span></span><br><span class="line"><span class="comment"># export SYSTEMD_PAGER=</span></span><br><span class="line"><span class="built_in">export</span> HOME=<span class="string">&quot;/data/gpfs01/dir1&quot;</span></span><br><span class="line"><span class="built_in">export</span> MR_DIR=<span class="string">&quot;/data/gpfs01/dir1/Build_WRF/LIBRARIES&quot;</span></span><br></pre></td></tr></table></figure></div><h2 id="æ–‡ä»¶æ ‘ç»“æ„"><a href="#æ–‡ä»¶æ ‘ç»“æ„" class="headerlink" title="æ–‡ä»¶æ ‘ç»“æ„"></a>æ–‡ä»¶æ ‘ç»“æ„</h2><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/  <span class="variable">$HOME</span> </span><br><span class="line">|--dir_name2 <span class="comment"># directory of linux </span></span><br><span class="line">|--Build_NEMO <span class="comment"># main bulid NEMO directory. </span></span><br><span class="line">|--LIBRARIES <span class="comment"># NEMO library directory. </span></span><br><span class="line">|--src <span class="comment"># source code directory &amp; all tar.gz files. </span></span><br><span class="line">|--nemo_4.2.0 <span class="comment"># NEMO directory.</span></span><br></pre></td></tr></table></figure></div><h2 id="ä¸‹è½½å®‰è£…æ–‡ä»¶"><a href="#ä¸‹è½½å®‰è£…æ–‡ä»¶" class="headerlink" title="ä¸‹è½½å®‰è£…æ–‡ä»¶"></a>ä¸‹è½½å®‰è£…æ–‡ä»¶</h2><p> ä¸‹è½½æ‰€éœ€è¦çš„ä¾èµ–åŒ…æ–‡ä»¶ï¼Œç¼–è¯‘å’Œå®‰è£…</p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http://www.zlib.net/fossils/zlib-1.2.11.tar.gz</span><br><span class="line">wget http:........etc.</span><br></pre></td></tr></table></figure></div><p>æ‰€æœ‰éœ€è¦çš„ä¾èµ–åŒ…è§ä¸‹å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/image-20240322112250779.png" alt="image-20240322112250779"></p><h2 id="ç¼–è¯‘åŒ…"><a href="#ç¼–è¯‘åŒ…" class="headerlink" title="ç¼–è¯‘åŒ…"></a>ç¼–è¯‘åŒ…</h2><p>æ¯å®‰è£…ä¸€ä¸ªåŒ…ï¼Œè¦å°†å®ƒçš„æ‰€å¤„è·¯å¾„å†™è¿›<code>.bashrc</code>ä¸­ã€‚</p><ol><li>å®‰è£…zlib<div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tar xvzf zlib-1.2.11.tar.gz</span><br><span class="line"><span class="built_in">cd</span> zlib-1.2.11</span><br><span class="line"></span><br><span class="line">./configure --prefix=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/zlib</span><br><span class="line"></span><br><span class="line">make -j8 |&amp; <span class="built_in">tee</span> make_log.txt</span><br><span class="line">make install |&amp; <span class="built_in">tee</span> make_install.txt</span><br></pre></td></tr></table></figure></div></li><li>å®‰è£…curl<div class="highlight-wrap" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tar xvzf curl-7.77.0.tar.gz</span><br><span class="line">cd curl-7.77.0</span><br><span class="line"></span><br><span class="line">./configure --prefix=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/curl --with-zlib=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/zlib --without-ssl</span><br><span class="line"></span><br><span class="line">make -j8 |&amp; tee make_log.txt</span><br><span class="line">make install |&amp; tee make_install.txt</span><br></pre></td></tr></table></figure></div></li><li>å®‰è£…hdf5<div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar xzvf hdf5-1.12.1.tar.gz </span><br><span class="line"><span class="built_in">cd</span> hdf5-1.12.1 </span><br><span class="line"></span><br><span class="line">./configure --prefix=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5 --with-zlib=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/zlib --enable-fortran --enable-static=<span class="built_in">yes</span> --enable-parallel --enable-shared   --enable-fortran2003  --enable-unsupported</span><br><span class="line"></span><br><span class="line">make -j8 |&amp; <span class="built_in">tee</span> make_log.txt</span><br><span class="line"></span><br><span class="line">make install |&amp; <span class="built_in">tee</span> make_install.txt</span><br></pre></td></tr></table></figure></div></li><li>å®‰è£…parallel-NetCDF<div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tar vxzf pnetcdf-1.12.3.tar.gz</span><br><span class="line"><span class="built_in">cd</span> pnetcdf-1.12.3</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> CPPFLAGS=<span class="string">&quot;-I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/include -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/zlib/include &quot;</span> </span><br><span class="line"><span class="built_in">export</span> LDFLAGS=<span class="string">&quot;-L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/zlib/lib &quot;</span> </span><br><span class="line"></span><br><span class="line">./configure --prefix=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/PNETCDF-1.12.3  --enable-shared --enable-large-file-test --enable-null-byte-header-padding --enable-burst-buffering --enable-profiling --enable-static</span><br><span class="line"></span><br><span class="line">make -j8 |&amp; <span class="built_in">tee</span> make_log.txt</span><br><span class="line"></span><br><span class="line">make install |&amp; <span class="built_in">tee</span> make_install.txt</span><br></pre></td></tr></table></figure></div></li><li>å®‰è£…netcdf-c-4.9.2<br> (å› ä¸º4.8ç‰ˆæœ¬æœ‰ä¸€ä¸ªå’ŒHDF51.12 é€šä¸è¿‡çš„æµ‹è¯•) è¦é€è¡Œç²˜è´´</li></ol><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">tar xvzf netcdf-c-4.9.2.tar.gz</span><br><span class="line"><span class="built_in">cd</span> netcdf-c-4.9.2</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> CPPFLAGS=<span class="string">&quot;-I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/curl/include -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/include -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/PNETCDF-1.12.3/include&quot;</span></span><br><span class="line"><span class="built_in">export</span> LDFLAGS=<span class="string">&quot;-L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/curl/lib -L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib -Wl,-rpath=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib -L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/PNETCDF-1.12.3/lib&quot;</span> </span><br><span class="line"></span><br><span class="line">./configure --prefix=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf --with-hdf5=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5 --enable-shared --enable-netcdf-4 --enable-netcdf4 --enable-dap --with-pic --disable-doxygen --enable-static --enable-largefile --disable-libxml2  --enable-pnetcdf --enable-parallel-tests </span><br><span class="line"></span><br><span class="line">make -j8 |&amp; <span class="built_in">tee</span> make_log.txt</span><br><span class="line"></span><br><span class="line">make install |&amp; <span class="built_in">tee</span> make_install.txt</span><br></pre></td></tr></table></figure></div><ul><li><p>ä¸€å®šè¦æ·»ä¸Šè¿™ä¸¤ä¸ªé€‰é¡¹<code>--enable-netcdf-4 --enable-netcdf4</code>ï¼Œå¦åˆ™åœ¨XIOSå®‰è£…æ—¶ä¼šæŠ¥é”™<br>  æ£€æŸ¥æ˜¯å¦æ‰“å¼€çš„å‘½ä»¤ï¼š<code>nc-config --all</code></p><p>  <img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/image-20240322112338017.png" alt="image-20240322112338017"></p><ol start="6"><li>å®‰è£…netcdf-fortran<br> åœ¨è¿™æ­¥ä¹‹å‰æå‰å®‰è£…äº†mpichï¼Œå¹¶å°†ç¯å¢ƒå˜é‡æ”¹äº†ï¼Œè§8  <div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">  tar xvzf netcdf-fortran-4.6.0.tar.gz</span><br><span class="line">  <span class="built_in">cd</span> netcdf-fortran-4.6.0</span><br><span class="line">  </span><br><span class="line"><span class="built_in">export</span> CC=mpicc -lstdc++</span><br><span class="line"><span class="comment">#  å‘ŠçŸ¥åº“æ–‡ä»¶ä½ç½®</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="string">&quot;/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/lib: LD_LIBRARY_PATH&quot;</span></span><br><span class="line"><span class="built_in">export</span> CPPFLAGS=<span class="string">&quot;-I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/include -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/include&quot;</span></span><br><span class="line"><span class="built_in">export</span> LDFLAGS=<span class="string">&quot;-L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib -L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/lib -Wl,-rpath=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib -Wl,-rpath=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/lib &quot;</span></span><br><span class="line"><span class="built_in">export</span> CFLAGS=<span class="string">&quot;-L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib -L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/lib -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/include -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/include&quot;</span></span><br><span class="line"><span class="built_in">export</span> CXXFLAGS=<span class="string">&quot;-L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib -L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/lib -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/include -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/include&quot;</span></span><br><span class="line"><span class="built_in">export</span> FCFLAGS=<span class="string">&quot;-L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib -L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/lib -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/include -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/include&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è®¾ç½®å‚æ•°</span></span><br><span class="line"> CPPFLAGS=<span class="string">&quot;-I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/include  -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/include&quot;</span> \ </span><br><span class="line">  LDFLAGS=<span class="string">&quot;-L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/lib -L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib&quot;</span>  \</span><br><span class="line"> ./configure --prefix=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf --enable-shared --with-pic --disable-doxygen  --enable-largefile --enable-static</span><br><span class="line"><span class="comment"># ç¼–è¯‘</span></span><br><span class="line">make -j8 |&amp; <span class="built_in">tee</span> make_log.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">#å®‰è£…</span></span><br><span class="line">make install |&amp; <span class="built_in">tee</span> make_install.txt</span><br></pre></td></tr></table></figure></div></li><li>å®‰è£…netcdf-cxx  <div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">tar xzvf netcdf-cxx4-4.3.1.tar.gz</span><br><span class="line"><span class="built_in">cd</span> netcdf-cxx4-4.3.1</span><br><span class="line"><span class="comment"># configure</span></span><br><span class="line">CPPFLAGS=<span class="string">&quot;-I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/include -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/include&quot;</span>  </span><br><span class="line">LDFLAGS=<span class="string">&quot;-L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/lib -L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib&quot;</span>  </span><br><span class="line"> LIBS=<span class="string">&quot;-L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib -L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/lib -lhdf5_hl -lhdf5 -lz  -lnetcdf -lnetcdff&quot;</span></span><br><span class="line">./configure --prefix=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf --enable-shared --with-pic --disable-doxygen  --enable-largefile --enable-static</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¼–è¯‘</span></span><br><span class="line">make -j8 |&amp; <span class="built_in">tee</span> make_log.txt</span><br><span class="line"><span class="comment">#å®‰è£…</span></span><br><span class="line">make install |&amp; <span class="built_in">tee</span> make_install.txt</span><br></pre></td></tr></table></figure></div></li><li>å®‰è£…mpich(â€“with-device&#x3D;ch4:ofi,åŠ ä¸Šè¿™ä¸ªé€‰é¡¹ç¼–è¯‘)  <div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">tar xzvf mpich-4.1.1.tar.gz</span><br><span class="line"><span class="built_in">cd</span> mpich-4.1.1</span><br><span class="line"></span><br><span class="line">./configure --prefix=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/mpich-4.1.1 --with-device=ch4:ofi</span><br><span class="line"></span><br><span class="line"><span class="comment">#ç¼–è¯‘</span></span><br><span class="line">make -j8 |&amp; <span class="built_in">tee</span> make_log.txt</span><br><span class="line"><span class="comment">#å®‰è£…</span></span><br><span class="line">make install |&amp; <span class="built_in">tee</span> make_install.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure></div></li><li>ä¿®æ”¹ç¯å¢ƒå˜é‡ï¼Œæœ€åçš„<code>.bashrc</code>æ–‡ä»¶å¦‚ä¸‹ï¼š  <div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># .bashrc</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Source global definitions</span></span><br><span class="line"><span class="keyword">if</span> [ -f /etc/bashrc ]; <span class="keyword">then</span></span><br><span class="line">        . /etc/bashrc</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="comment">#module load</span></span><br><span class="line"></span><br><span class="line">module load python/3.7.3</span><br><span class="line">module load mkl/2019.1.144</span><br><span class="line">module load gcc/4.9.0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Uncomment the following line if you don&#x27;t like systemctl&#x27;s auto-paging feature:</span></span><br><span class="line"><span class="comment"># export SYSTEMD_PAGER=</span></span><br><span class="line"><span class="built_in">export</span> HOME=<span class="string">&quot;/data/gpfs01/dir1&quot;</span></span><br><span class="line"><span class="built_in">export</span> MR_DIR=<span class="string">&quot;/data/gpfs01/dir1/Build_WRF/LIBRARIES&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># complier</span></span><br><span class="line"><span class="built_in">export</span> CC=mpicc</span><br><span class="line"><span class="built_in">export</span> CXX=mpicxx</span><br><span class="line"><span class="built_in">export</span> FC=mpif90</span><br><span class="line"><span class="built_in">export</span> F77=mpif77</span><br><span class="line"><span class="built_in">export</span> COMPILER=<span class="string">&quot;<span class="variable">$FC</span>&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#export CC=&quot;gcc&quot;</span></span><br><span class="line"><span class="comment">#export CXX=&quot;g++&quot;</span></span><br><span class="line"><span class="comment">#export FC=&quot;gfortran&quot;</span></span><br><span class="line"><span class="comment">#export COMPILER=&quot;$FC&quot;</span></span><br><span class="line"><span class="comment">#export FCFLAGS=&quot;-m64&quot;</span></span><br><span class="line"><span class="comment">#export F77=&quot;gfortran&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for PnetCDF</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$HOME</span>/dir_name2/Build_NEMO/LIBRARIES/PNETCDF-1.12.3/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="string">&quot;<span class="variable">$HOME</span>/dir_name2/Build_NEMO/LIBRARIES/PNETCDF-1.12.3/lib:<span class="variable">$LD_LIBRARY_PATH</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for NETCDF</span></span><br><span class="line"><span class="built_in">export</span> NETCDF=<span class="string">&quot;<span class="variable">$HOME</span>/dir_name2/Build_NEMO/LIBRARIES/netcdf&quot;</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$HOME</span>/dir_name2/Build_NEMO/LIBRARIES/netcdf/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="string">&quot;<span class="variable">$NETCDF</span>/lib:<span class="variable">$LD_LIBRARY_PATH</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for curl</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$HOME</span>/dir_name2/Build_NEMO/LIBRARIES/curl/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="string">&quot;<span class="variable">$HOME</span>/dir_name2/Build_NEMO/LIBRARIES/curl/lib:<span class="variable">$LD_LIBRARY_PATH</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### HDF5</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$HOME</span>/dir_name2/Build_NEMO/LIBRARIES/hdf5/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="string">&quot;<span class="variable">$HOME</span>/dir_name2/Build_NEMO/LIBRARIES/hdf5/lib:<span class="variable">$LD_LIBRARY_PATH</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for MY MPICH</span></span><br><span class="line"><span class="built_in">export</span> MPICH=<span class="string">&quot;/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/mpich-4.1.1&quot;</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$MPICH</span>/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">export</span> LD_LIBRARY_PATH=<span class="string">&quot;<span class="variable">$MPICH</span>/lib:<span class="variable">$LD_LIBRARY_PATH</span>&quot;</span></span><br></pre></td></tr></table></figure></div></li></ol><h1 id="äºŒã€å®‰è£…XIOS"><a href="#äºŒã€å®‰è£…XIOS" class="headerlink" title="äºŒã€å®‰è£…XIOS"></a>äºŒã€å®‰è£…XIOS</h1><ol><li><p>ä¸‹è½½XIOSä»“åº“</p>  <div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/dir_name2/Build_NEMO/LIBRARIES/</span><br><span class="line">svn co http://forge.ipsl.jussieu.fr/ioserver/svn/XIOS/trunk xios-t</span><br></pre></td></tr></table></figure></div></li><li><p>å¤åˆ¶å¹¶ä¿®æ”¹<code>arch</code>æ–‡ä»¶å¤¹é‡Œçš„é…ç½®ï¼ˆæ ¹æ®å­¦æ ¡çš„è¶…ç®—ä¿¡æ¯å’Œæ‰€ç”¨çš„ç¼–è¯‘å™¨ï¼Œè¿™é‡Œæ˜¯ç”¨çš„gcc&#x2F;4.9.0ã€‚ç”¨intelçš„è¯•äº†å‡ éè€æ˜¯æŠ¥é”™ï¼‰<br>å‚è€ƒä¿¡æ¯ï¼š<br><a href="https://nemo-related.readthedocs.io/en/latest/compilation_notes/nemo42.html">XIOS-Trunk+nemo4.2.0+gcc8.3.0</a><br><a href="http://christopherbull.com.au/nemo/nemo-wed12-01/">XIOS-2+nemo+Intel</a><br><a href="https://sites.nemo-ocean.io/user-guide/install.html#">NEMO4.2.0-User-guide</a></p><ul><li><code>arch-XMU_HPC.fcm</code>çš„å†…å®¹<div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##############################################################################</span></span><br><span class="line"><span class="comment">###################                Projet XIOS               ###################</span></span><br><span class="line"><span class="comment">################################################################################</span></span><br><span class="line"></span><br><span class="line">%CCOMPILERmpicc</span><br><span class="line">%FCOMPILERmpif90</span><br><span class="line">%LINKER     mpif90</span><br><span class="line"></span><br><span class="line">%BASE_CFLAGS    -ansi -w -D_GLIBCXX_USE_CXX11_ABI=0  -std=c++11</span><br><span class="line"><span class="comment">#%BASE_CFLAGS    -ansi -w</span></span><br><span class="line">%PROD_CFLAGS    -O3 -DBOOST_DISABLE_ASSERTS</span><br><span class="line">%DEV_CFLAGS     -g -O2</span><br><span class="line">%DEBUG_CFLAGS   -g</span><br><span class="line"></span><br><span class="line">%BASE_FFLAGS    -D__NONE__</span><br><span class="line">%PROD_FFLAGS    -O3</span><br><span class="line">%DEV_FFLAGS     -g -O2</span><br><span class="line">%DEBUG_FFLAGS   -g</span><br><span class="line"></span><br><span class="line">%BASE_INC      -D__NONE__</span><br><span class="line">%BASE_LD        -lstdc++</span><br><span class="line"><span class="comment">#-mkl=parallel</span></span><br><span class="line"><span class="comment">#%BASE_LD        -mkl=parallel</span></span><br><span class="line"></span><br><span class="line">%CPP            cpp</span><br><span class="line">%FPP            cpp -P</span><br><span class="line">%MAKE           make</span><br></pre></td></tr></table></figure></div></li><li><code>arch-XMU_HPC.env</code>çš„å†…å®¹<div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> HDF5_INC_DIR=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/include</span><br><span class="line"><span class="built_in">export</span> HDF5_LIB_DIR=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/lib</span><br><span class="line"></span><br><span class="line"><span class="built_in">export</span> NETCDF_INC_DIR=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/include</span><br><span class="line"><span class="built_in">export</span> NETCDF_LIB_DIR=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/lib</span><br><span class="line"></span><br><span class="line"><span class="comment">#export BLITZ_INC_DIR=&quot;/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/blitz/include&quot;</span></span><br><span class="line"><span class="comment">#export BLITZ_LIB_DIR=&quot;/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/blitz/lib&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#export ZLIB_INC_DIR=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/zlib/include</span></span><br><span class="line"><span class="comment">#export ZLIB_LIB_DIR=/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/zlib/lib</span></span><br></pre></td></tr></table></figure></div></li><li><code>arch-XMU_HPC.path</code>çš„å†…å®¹<div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">NETCDF_INCDIR=<span class="string">&quot;-I<span class="variable">$NETCDF_INC_DIR</span>&quot;</span></span><br><span class="line">NETCDF_LIBDIR=<span class="string">&quot;-Wl,&#x27;--allow-multiple-definition&#x27; -L<span class="variable">$NETCDF_LIB_DIR</span>&quot;</span></span><br><span class="line"><span class="comment">#NETCDF_LIBDIR=&quot;-L$NETCDF_LIB_DIR&quot;</span></span><br><span class="line">NETCDF_LIB=<span class="string">&quot;-lnetcdf -lnetcdff&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#MPI_INCDIR=&quot;&quot;</span></span><br><span class="line"><span class="comment">#MPI_LIBDIR=&quot;&quot;</span></span><br><span class="line"><span class="comment">#MPI_LIB=&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">HDF5_INCDIR=<span class="string">&quot;-I<span class="variable">$HDF5_INC_DIR</span>&quot;</span></span><br><span class="line">HDF5_LIBDIR=<span class="string">&quot;-L<span class="variable">$HDF5_LIB_DIR</span>&quot;</span></span><br><span class="line">HDF5_LIB=<span class="string">&quot;-lhdf5_hl -lhdf5 -lhdf5 -lz&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ZLIB_INCDIR=&quot;-I $ZLIB_INC_DIR&quot;</span></span><br><span class="line"><span class="comment">#ZLIB_LIBCDIR=&quot;-I $ZLIB_LIB_DIR&quot;</span></span><br><span class="line"><span class="comment">#ZLIB_LIB=&quot;-lz&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#BOOST_INCDIR=&quot;-I $BOOST_INC_DIR&quot;</span></span><br><span class="line"><span class="comment">#BOOST_LIBDIR=&quot;-L $BOOST_LIB_DIR&quot;</span></span><br><span class="line"><span class="comment">#BOOST_LIB=&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#è¿™ä¸ªè€¦åˆå™¨æ˜¯åæ¥è£…çš„å¯å†™å¯ä¸å†™</span></span><br><span class="line">OASIS_INCDIR=<span class="string">&quot;-I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/OASIS3-MCT_5.0/include&quot;</span></span><br><span class="line">OASIS_LIBDIR=<span class="string">&quot;-L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/OASIS3-MCT_5.0/lib&quot;</span></span><br><span class="line">OASIS_LIB=<span class="string">&quot;-lpsmile.MPI1 -lscrip -lmct -lmpeu&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#BLITZ_INCDIR=&quot;-I /YOUR_HOME_DIR//Build_NEMO/LIBRARIES/blitz/include&quot;</span></span><br><span class="line"><span class="comment">#BLITZ_LIBDIR=&quot;-L /YOUR_HOME_DIR//Build_NEMO/LIBRARIES/blitz/lib&quot;</span></span><br><span class="line"><span class="comment">#BLITZ_LIB=&quot;-lblitz&quot;</span></span><br></pre></td></tr></table></figure></div></li></ul></li><li><p>ä¿®æ”¹æ ¹ç›®å½•ä¸‹çš„<code>bld.cfg</code>æ–‡ä»¶å…¶ä¸­çš„ä¸€è¡Œ</p>  <div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ../</span><br><span class="line"></span><br><span class="line">nano bld.cfg</span><br><span class="line"><span class="comment">#ä¿®æ”¹è¿™è¡Œ</span></span><br><span class="line">bld::tool::cflags    %CFLAGS %CBASE_INC -I<span class="variable">$&#123;PWD&#125;</span>/extern/src_netcdf -I<span class="variable">$&#123;PWD&#125;</span>/extern/boost/include -I<span class="variable">$&#123;PWD&#125;</span>/extern/rapidxml/include -I<span class="variable">$&#123;PWD&#125;</span>/extern/blitz/include</span><br></pre></td></tr></table></figure></div><p>å…¶ä¸­çš„<code>src_netcdf</code>æ”¹ä¸º<code>src_netcdf4</code></p></li><li><p>å›åˆ°xiosçš„ç›®å½•ä¸‹ï¼Œç¼–è¯‘(è¿™ä¸ªæ—¶é—´å·¨é•¿)</p>  <div class="highlight-wrap" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./make_xios --full --prod --arch XMU_HPC -j8 |&amp; tee compile_log.txt</span><br></pre></td></tr></table></figure></div><p>  psï¼šxios-2.5ç‰ˆæœ¬å¯ä»¥ç”¨åœ¨nemo-4.0.7ç‰ˆæœ¬ï¼Œä½†æ˜¯nemo4.2ä¸èƒ½ç”¨2.5ç‰ˆæœ¬ï¼Œéœ€è¦ç”¨åˆ°ä¸­é—´ç‰ˆæœ¬ï¼ˆå°±æ˜¯æˆ‘ä»¬ä¸‹è½½çš„è¿™ä¸ªï¼‰ï¼›ï¼ˆnemo4.2ç”¨XIOS3çš„æ—¶å€™ä¼šæŠ¥é”™æ˜¾ç¤ºperl5çš„é”™è¯¯ï¼Œå…·ä½“è¦æ€ä¹ˆä¿®æ”¹æ²¡æœ‰å»çœ‹ï¼Œå› ä¸ºä¸­é—´ç‰ˆæœ¬å¯ä»¥ç”¨äº†ï¼Œå®åœ¨æ˜¯æ‡’å¾—æŠ˜è…¾äº†ï¼‰</p></li></ol><h1 id="ä¸‰ã€ä¸‹è½½NEMOæºä»£ç å¹¶é…ç½®"><a href="#ä¸‰ã€ä¸‹è½½NEMOæºä»£ç å¹¶é…ç½®" class="headerlink" title="ä¸‰ã€ä¸‹è½½NEMOæºä»£ç å¹¶é…ç½®"></a>ä¸‰ã€ä¸‹è½½NEMOæºä»£ç å¹¶é…ç½®</h1><ul><li>ä¸‹è½½ä»£ç <br>  å› ä¸ºnemo4.2ä¸å†æ”¯æŒsvnäº†ï¼Œéœ€è¦ç”¨gitï¼Œå¯ä»¥å…ˆåœ¨æœ¬åœ°ä¸‹è½½å¥½ï¼Œç”¨ftpä¼ é€åˆ°æœåŠ¡å™¨ä¸Šã€‚æœ¬åœ°ä¸‹è½½çš„å‘½ä»¤æ˜¯ï¼š<br>  <code>git clone https://forge.nemo-ocean.eu/nemo/nemo.git nemo_4.2.0</code></li><li>åœ¨<code>arch</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œåˆ›å»ºå¹¶ä¿®æ”¹<code>arch-XMU_HPC.fcm</code>  <div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">%NCDF_HOME           /YOUR_HOME_DIR//Build_NEMO/LIBRARIES/netcdf/</span><br><span class="line">%HDF5_HOME           /YOUR_HOME_DIR//Build_NEMO/LIBRARIES/hdf5/</span><br><span class="line">%XIOS_HOME           /YOUR_HOME_DIR//Build_NEMO/LIBRARIES/xios-t/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%OASIS_INC           -I/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/OASIS3-MCT_5.0/build-static/lib/mct -I/dat$</span><br><span class="line">%OASIS_LIB           -L/YOUR_HOME_DIR//Build_NEMO/LIBRARIES/OASIS3-MCT_5.0/lib -lpsmile.MPI1 -lmct -lm$</span><br><span class="line"></span><br><span class="line">%NCDF_INC            -I%NCDF_HOME/include -I%NCDF_HOME/include</span><br><span class="line">%NCDF_LIB            -L%NCDF_HOME/lib -L%NCDF_HOME/lib -lnetcdff -lnetcdf -lstdc++</span><br><span class="line">%XIOS_INC            -I%XIOS_HOME/inc</span><br><span class="line">%XIOS_LIB            -L%XIOS_HOME/lib -lxios</span><br><span class="line"></span><br><span class="line">%CPP                 cpp -Dkey_nosignedzero</span><br><span class="line">%CPPFLAGS            -P -traditional</span><br><span class="line"></span><br><span class="line">%FC                  mpif90</span><br><span class="line">%FCFLAGS             -fdefault-real-8 -O3 -funroll-all-loops -fcray-pointer -cpp -ffree-line-length-none</span><br><span class="line">%FFLAGS              %FCFLAGS</span><br><span class="line">%LD                  mpif90</span><br><span class="line">%FPPFLAGS           -P -C  -traditional</span><br><span class="line">%LDFLAGS</span><br><span class="line"><span class="comment">#%LDFLAGS             -kml=parallel</span></span><br><span class="line">%AR                  ar</span><br><span class="line">%ARFLAGS             -rs</span><br><span class="line">%MK                  make</span><br><span class="line">%USER_INC            %XIOS_INC %OASIS_INC  %NCDF_INC</span><br><span class="line">%USER_LIB            %XIOS_LIB %OASIS_LIB  %NCDF_LIB</span><br><span class="line"></span><br><span class="line"><span class="comment">#%CC                  mpicc</span></span><br><span class="line"><span class="comment">#%CFLAGS              -O3 -march=native -mtune=native</span></span><br></pre></td></tr></table></figure></div>  æœ€åçš„æ–‡ä»¶å¤¹æ ‘çš„æ ·å­ï¼š</li></ul><p>  <img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/image-20240322112349782.png" alt="image-20240322112349782"></p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Model </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2024/03/19/hello-world/"/>
      <url>/2024/03/19/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure></div><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure></div><h2 id="Test-insert-picture"><a href="#Test-insert-picture" class="headerlink" title="Test insert picture"></a>Test insert picture</h2><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/AIRPLAN1.JPG" alt="AIRPLAN1"></p><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>éƒ¨ç½²åšå®¢é—®é¢˜è®°å½•</title>
      <link href="/2024/03/19/edit_blog_on_2devices/"/>
      <url>/2024/03/19/edit_blog_on_2devices/</url>
      
        <content type="html"><![CDATA[<p>å°ç›®æ ‡ï¼š</p><p>â€‹æä¸ªå›¾åºŠè´´å›¾</p><p>â€‹è¯„è®ºåŒº(done)</p><p>â€‹ä¿®æ”¹ä»£ç å—æ ·å¼</p><p>â€‹ä¿®æ”¹å­—ä½“æ ·å¼ï¼ˆå¥½åƒç”µè„‘çœ‹æœ‰ç‚¹å°å•Šï¼‰</p><p>â€‹å†™ä¸€å †ï¼ï¼ï¼ä¹±ä¸ƒå…«ç³Ÿçš„ï¼</p><p>è®°å½•å¸–</p><h2 id="1-ä¸¤å°ç”µè„‘åŒæ­¥éƒ¨ç½²"><a href="#1-ä¸¤å°ç”µè„‘åŒæ­¥éƒ¨ç½²" class="headerlink" title="1. ä¸¤å°ç”µè„‘åŒæ­¥éƒ¨ç½²"></a>1. ä¸¤å°ç”µè„‘åŒæ­¥éƒ¨ç½²</h2><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/K1052176873/article/details/122879462">çœŸçš„å¾ˆæ¸…æ™°ï¼Œæˆ‘ä¸€ä¸ªå°ç™½éƒ½æ‡‚äº†</a></p><p>ä¹‹åçš„æ—¥å¸¸å·¥ä½œæµç¨‹</p><p>å¼€å§‹æ—¶ï¼š</p><div class="highlight-wrap" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git pull</span><br></pre></td></tr></table></figure></div><p>å¿«ä¹çš„å†™å†™å†™ï¼ï¼ï¼ï¼</p><p>å“ˆï½</p><p>ç»ˆäºå†™å®Œäº†ï¼ï¼ï¼</p><p>hexo éƒ¨ç½²åˆ°main branch</p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure></div><p>Git æ¥åŒæ­¥æˆ‘ä»¬çš„ä¿®æ”¹</p><div class="highlight-wrap" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m (some comments)</span><br><span class="line">git push</span><br></pre></td></tr></table></figure></div><p>ps: ç»å¸¸ç”¨åˆ°çš„gitå‘½ä»¤</p><div class="highlight-wrap" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch <span class="comment">#æŸ¥çœ‹å½“å‰åˆ†æ”¯</span></span><br></pre></td></tr></table></figure></div><h2 id="2-ç”¨MobaXtermä½¿ç”¨hexo-dæ—¶ï¼Œä¸€ç›´æç¤ºè¦å¯†ç "><a href="#2-ç”¨MobaXtermä½¿ç”¨hexo-dæ—¶ï¼Œä¸€ç›´æç¤ºè¦å¯†ç " class="headerlink" title="2. ç”¨MobaXtermä½¿ç”¨hexo dæ—¶ï¼Œä¸€ç›´æç¤ºè¦å¯†ç "></a>2. ç”¨MobaXtermä½¿ç”¨hexo dæ—¶ï¼Œä¸€ç›´æç¤ºè¦å¯†ç </h2><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://zhuanlan.zhihu.com/p/344314336">git pull&#x2F;pushæ¯æ¬¡éƒ½è¦è¾“å…¥ç”¨æˆ·åå¯†ç çš„è§£å†³åŠæ³• - çŸ¥ä¹ (zhihu.com)</a></p><p><code>git config --global credential.helper store</code></p><h2 id="3-è¯„è®ºåŒº"><a href="#3-è¯„è®ºåŒº" class="headerlink" title="3. è¯„è®ºåŒº"></a>3. è¯„è®ºåŒº</h2><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://roife.github.io/posts/use-utterances-for-blog-comment/">ä½¿ç”¨ Utterances ä¸ºé™æ€åšå®¢æ·»åŠ è¯„è®º | ROIFE BLOG</a></p><p>ä¿®æ”¹cactusçš„<code>.\themes\_config.yml</code></p><h2 id="4-å›¾åºŠæµ‹è¯•"><a href="#4-å›¾åºŠæµ‹è¯•" class="headerlink" title="4. å›¾åºŠæµ‹è¯•"></a>4. å›¾åºŠæµ‹è¯•</h2><p><img src="https://cdn.jsdelivr.net/gh/jiaoyueLIB/images@main/img/AIRPLAN2.JPG" alt="AIRPLAN2"></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
